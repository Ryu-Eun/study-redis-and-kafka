server:
  port: 8000

spring:
  application:
    name: api-gateway
#  data:
#    redis:
#      host: localhost
#      port: 6379
  cloud:
    gateway:
      server:
        webflux:
          routes:
            # ??? ???? ?? API (????, ???, ????, ????). ????
            - id: public-user-signup
              uri: lb://USER-SERVICE
              predicates:
                - Path=/api/v1/users/signup
            - id: public-user-login
              uri: lb://USER-SERVICE
              predicates:
                - Path=/api/v1/users/login
            - id: public-user-validate
              uri: lb://USER-SERVICE
              predicates:
                - Path=/api/v1/users/validate
            - id: public-user-refresh-token
              uri: lb://USER-SERVICE
              predicates:
                - Path=/api/v1/users/refresh-token

            # ????? ?? ??? API (/api/v1/users/me, /api/v1/users/me/password ?). JWT?? ??
            - id: protected-user-service
              uri: lb://USER-SERVICE
              predicates:
                - Path=/api/v1/users/**
              filters:
                - name: JwtAuthenticationFilter



